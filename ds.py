sed '/^\s*$/d' file.txt | tr -s '\n' -t '~' > new_file.txt
